{"uid":"26eba79af10d635c","name":"Негативный тест: Попытка обновить бронирование с невалидным токеном","fullName":"api.tests.test_booking#test_update_booking_with_invalid_token_negative","historyId":"9ecd0e5580e6c32d7604fd202ab35870","time":{"start":1756135076187,"stop":1756135076228,"duration":41},"description":"Проверка, что система не позволяет изменять данные без авторизации.","descriptionHtml":"<p>Проверка, что система не позволяет изменять данные без авторизации.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"booking_endpoint","time":{"start":1756135075645,"stop":1756135075645,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"auth_endpoint","time":{"start":1756135075928,"stop":1756135075928,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"auth_token","time":{"start":1756135075928,"stop":1756135075970,"duration":42},"status":"passed","steps":[{"name":"API: Получение токена авторизации","time":{"start":1756135075928,"stop":1756135075970,"duration":42},"status":"passed","steps":[],"attachments":[{"uid":"d0eb4db095093c2b","name":"Auth Response","source":"d0eb4db095093c2b.json","type":"application/json","size":34}],"parameters":[{"name":"payload","value":"{'username': 'admin', 'password': 'password123'}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":1,"hasContent":true},{"name":"booking_id","time":{"start":1756135076144,"stop":1756135076187,"duration":43},"status":"passed","steps":[{"name":"API-действие: Создание нового бронирования","time":{"start":1756135076144,"stop":1756135076187,"duration":43},"status":"passed","steps":[{"name":"Проверка: Тело ответа валидируется по схеме BookingResponse","time":{"start":1756135076187,"stop":1756135076187,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[{"uid":"661483598178daff","name":"Request Payload","source":"661483598178daff.json","type":"application/json","size":195},{"uid":"badadce60622a789","name":"Response","source":"badadce60622a789.json","type":"application/json","size":325}],"parameters":[{"name":"payload","value":"{'firstname': 'Automation', 'lastname': 'Tester', 'totalprice': 1000, 'depositpaid': True, 'bookingdates': {'checkin': '2025-09-01', 'checkout': '2025-09-10'}, 'additionalneeds': 'Allure Report'}"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":2,"hasContent":true},{"name":"Проверка: Статус-код ответа равен 200","time":{"start":1756135076187,"stop":1756135076187,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"expected_code","value":"200"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":2,"hasContent":true}],"testStage":{"description":"Проверка, что система не позволяет изменять данные без авторизации.","status":"passed","steps":[{"name":"API-действие: Обновление бронирования по ID '3548'","time":{"start":1756135076187,"stop":1756135076228,"duration":41},"status":"passed","steps":[],"attachments":[{"uid":"f56ae0a7fd83b572","name":"Request Payload","source":"f56ae0a7fd83b572.json","type":"application/json","size":194},{"uid":"37e9cc9d93ca9532","name":"Response","source":"37e9cc9d93ca9532.txt","type":"text/plain","size":9}],"parameters":[{"name":"booking_id","value":"3548"},{"name":"payload","value":"{'firstname': 'Super', 'lastname': 'Tester', 'totalprice': 2000, 'depositpaid': False, 'bookingdates': {'checkin': '2025-10-01', 'checkout': '2025-10-20'}, 'additionalneeds': 'Espresso Machine'}"},{"name":"token","value":"'invalid_token_12345'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true},{"name":"Проверка: Статус-код ответа равен 403","time":{"start":1756135076228,"stop":1756135076228,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"expected_code","value":"403"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":2,"hasContent":true},"afterStages":[{"name":"booking_id::0","time":{"start":1756135076228,"stop":1756135076269,"duration":41},"status":"passed","steps":[{"name":"API-действие: Удаление бронирования по ID '3548'","time":{"start":1756135076229,"stop":1756135076269,"duration":40},"status":"passed","steps":[],"attachments":[{"uid":"607cb19f7f4a824d","name":"Response","source":"607cb19f7f4a824d.txt","type":"text/plain","size":7}],"parameters":[{"name":"booking_id","value":"3548"},{"name":"token","value":"'5a5a9abc5b65160'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"Проверка: Статус-код ответа равен 201","time":{"start":1756135076269,"stop":1756135076269,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"expected_code","value":"201"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":1,"hasContent":true}],"labels":[{"name":"feature","value":"API Тесты"},{"name":"severity","value":"blocker"},{"name":"story","value":"Авторизация"},{"name":"tag","value":"api"},{"name":"tag","value":"smoke"},{"name":"parentSuite","value":"api.tests"},{"name":"suite","value":"test_booking"},{"name":"host","value":"75345b9cce0e"},{"name":"thread","value":"7-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.tests.test_booking"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"blocker","retries":[],"categories":[],"tags":["smoke","api"]},"source":"26eba79af10d635c.json","parameterValues":[]}